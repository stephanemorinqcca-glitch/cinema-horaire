<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Horaire des Films</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .film { display: flex; margin-bottom: 20px; }
        .film img { width: 150px; height: auto; margin-right: 20px; }
        .details { max-width: 600px; }
    </style>
</head>
<body>
    <h1>Horaire des Films</h1>
    <div id="films-container"></div>

    <script>
        function chargerFilms() {
            fetch('films.json?cache=' + new Date().getTime())
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('films-container');
                    container.innerHTML = '';

                    data.films.forEach(film => {
                        const filmDiv = document.createElement('div');
                        filmDiv.className = 'film';

                        const img = document.createElement('img');
                        img.src = film.poster;
                        img.alt = film.titre;

                        const detailsDiv = document.createElement('div');
                        detailsDiv.className = 'details';

                        const title = document.createElement('h2');
                        title.textContent = film.titre;

                        const genre = document.createElement('p');
                        genre.textContent = 'Genre: ' + film.genre.join(', ');

                        const classification = document.createElement('p');
                        classification.textContent = 'Classification: ' + film.classification;

                        const duree = document.createElement('p');
                        duree.textContent = 'Dur√©e: ' + film.duree;

                        const horaire = document.createElement('p');
                        horaire.textContent = '' + film.horaire.join(', ');

                        detailsDiv.appendChild(title);
                        detailsDiv.appendChild(genre);
                        detailsDiv.appendChild(classification);
                        detailsDiv.appendChild(duree);
                        detailsDiv.appendChild(horaire);

                        filmDiv.appendChild(img);
                        filmDiv.appendChild(detailsDiv);
                        container.appendChild(filmDiv);
                    });
                });
        }

        chargerFilms();
        setInterval(chargerFilms, 300000);
    </script>
</body>
</html>
