
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Sessions de Films - Informations Complètes</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f9f9f9; }
        h1 { text-align: center; }
        .session { background: #fff; border: 1px solid #ccc; padding: 15px; margin-bottom: 10px; border-radius: 5px; }
        .session h2 { margin-top: 0; }
        .label { font-weight: bold; }
    </style>
</head>
<body>
    <h1>Sessions de Films - Informations Complètes</h1>
    <div id="sessions-container">Chargement des données...</div>

    <script>
        async function chargerSessions() {
            const container = document.getElementById('sessions-container');
            container.innerHTML = "Chargement des données...";

            try {
                const response = await fetch('https://ticketing.useast.veezi.com/sessions/?siteToken=jjwk2hm92x8zmdt4ys4sr1vvp0');
                const data = await response.json();
                container.innerHTML = "";

                data.forEach(session => {
                    const div = document.createElement('div');
                    div.className = 'session';

                    div.innerHTML = `
                        <h2>${session.filmTitle}</h2>
                        <p><span class="label">Salle:</span> ${session.screenId}</p>
                        <p><span class="label">Type de séance:</span> ${session.showType}</p>
                        <p><span class="label">Format:</span> ${session.filmFormat}</p>
                        <p><span class="label">Langue audio:</span> ${session.audioLanguage}</p>
                        <p><span class="label">Début des bandes-annonces:</span> ${session.preShowStartTime}</p>
                        <p><span class="label">Début du film:</span> ${session.featureStartTime}</p>
                        <p><span class="label">Fin du film:</span> ${session.featureEndTime}</p>
                        <p><span class="label">Fin du nettoyage:</span> ${session.cleanupEndTime}</p>
                        <p><span class="label">Statut:</span> ${session.status}</p>
                        <p><span class="label">Sièges disponibles:</span> ${session.seatsAvailable}</p>
                        <p><span class="label">Sièges vendus:</span> ${session.seatsSold}</p>
                        <p><span class="label">Sièges maison:</span> ${session.seatsHouse}</p>
                        <p><span class="label">Sièges réservés:</span> ${session.seatsHeld}</p>
                        <p><span class="label">Billets épuisés:</span> ${session.ticketsSoldOut ? "Oui" : "Non"}</p>
                        <p><span class="label">Peu de billets restants:</span> ${session.fewTicketsLeft ? "Oui" : "Non"}</p>
                        <p><span class="label">Grille tarifaire:</span> ${session.priceCardName}</p>
                        <p><span class="label">Attributs:</span> ${session.attributes ? session.attributes.join(', ') : "Aucun"}</p>
                    `;
                    container.appendChild(div);
                });
            } catch (error) {
                container.innerHTML = "Erreur lors du chargement des données.";
                console.error(error);
            }
        }

        chargerSessions();
        setInterval(chargerSessions, 300000); // Rafraîchissement toutes les 5 minutes
    </script>
</body>
</html>
